<!doctype html>
<html lang="th"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ระบบลงคะแนนเสียงอัจฉริยะ - สำนักงานคณะกรรมการการเลือกตั้ง</title>
<style>
:root{
  --primary:#1e40af; --primary-dark:#1e3a8a; --secondary:#dc2626; --accent:#f59e0b;
  --bg:#f8fafc; --card:#ffffff; --text:#1e293b; --text-muted:#64748b;
  --border:#e2e8f0; --success:#059669; --warning:#d97706; --danger:#dc2626;
  --gradient:linear-gradient(135deg,#1e40af,#dc2626); --shadow:0 4px 6px -1px rgba(0,0,0,0.1);
}
*{box-sizing:border-box; margin:0; padding:0}
html,body{height:100%; font-family:'Sarabun','Kanit',system-ui,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--text)}
body{font-size:16px; line-height:1.6}

/* Government Header */
.gov-header{background:var(--gradient); color:white; padding:20px 0; margin-bottom:30px; box-shadow:var(--shadow)}
.gov-header .wrap{max-width:1200px; margin:0 auto; padding:0 20px}
.gov-logo{display:flex; align-items:center; gap:15px; margin-bottom:10px}
.logo-container{width:60px; height:60px; display:flex; align-items:center; justify-content:center}
.logo-circle{width:50px; height:50px; background:white; border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.logo-inner{width:40px; height:40px; background:var(--gradient); border-radius:50%; display:flex; align-items:center; justify-content:center}
.logo-text{color:white; font-size:14px; font-weight:800; font-family:'Sarabun','Kanit',system-ui}
.gov-title{font-size:24px; font-weight:700}
.gov-subtitle{font-size:14px; opacity:0.9}
.gov-nav{display:flex; gap:20px; margin-top:15px}
.gov-nav a{color:white; text-decoration:none; padding:8px 16px; border-radius:6px; transition:background 0.2s}
.gov-nav a:hover{background:rgba(255,255,255,0.1)}

/* Layout */
.wrap{max-width:1200px; margin:0 auto; padding:0 20px}
.main-content{background:var(--card); border-radius:12px; padding:30px; margin-bottom:30px; box-shadow:var(--shadow); border:1px solid var(--border)}

/* Status Bar */
.status-bar{display:flex; justify-content:space-between; align-items:center; background:var(--card); padding:15px 20px; border-radius:8px; border:1px solid var(--border); margin-bottom:25px}
.status-info{display:flex; align-items:center; gap:15px}
.status-badge{display:flex; align-items:center; gap:8px; padding:6px 12px; background:#f1f5f9; border-radius:20px; font-size:14px; font-weight:500}
.status-dot{width:8px; height:8px; border-radius:50%; background:var(--warning)}
.status-dot.online{background:var(--success)}
.status-dot.offline{background:var(--danger)}
.current-time{font-size:14px; color:var(--text-muted)}

/* Stats Row */
.stats-row{display:grid; grid-template-columns:repeat(4,1fr); gap:20px; margin-bottom:30px}
.stat-card{background:var(--card); border:2px solid var(--border); border-radius:12px; padding:20px; text-align:center; transition:all 0.2s}
.stat-card:hover{border-color:var(--primary); transform:translateY(-2px)}
.stat-label{color:var(--text-muted); font-size:14px; margin-bottom:8px; font-weight:500}
.stat-value{font-size:32px; font-weight:800; color:var(--primary); margin-bottom:4px}
.stat-sub{font-size:12px; color:var(--text-muted)}

/* Candidates Grid - Fixed 5 columns */
.candidates-section{margin-bottom:30px}
.section-title{font-size:22px; font-weight:700; margin-bottom:20px; color:var(--text); text-align:center; padding-bottom:10px; border-bottom:3px solid var(--primary)}
.candidates-grid{display:grid; grid-template-columns:repeat(5,1fr); gap:15px; max-width:1000px; margin:0 auto}
.candidate-card{background:var(--card); border:2px solid var(--border); border-radius:12px; padding:15px; text-align:center; transition:all 0.2s; position:relative}
.candidate-card:hover{border-color:var(--primary); transform:translateY(-2px); box-shadow:0 8px 25px rgba(30,64,175,0.15)}
.candidate-card.leading{border-color:var(--success); background:linear-gradient(135deg,#f0fdf4,#dcfce7)}
.candidate-photo{width:100%; height:120px; object-fit:cover; border-radius:8px; margin-bottom:10px; border:2px solid var(--border)}
.candidate-name{font-size:14px; font-weight:600; margin-bottom:8px; color:var(--text)}
.candidate-votes{font-size:20px; font-weight:800; color:var(--primary); margin-bottom:6px}
.candidate-percentage{font-size:11px; color:var(--text-muted); margin-bottom:8px}
.progress-bar{height:6px; background:#f1f5f9; border-radius:3px; overflow:hidden}
.progress-fill{height:100%; background:var(--gradient); transition:width 0.5s ease; border-radius:3px}

/* Charts Section */
.charts-section{display:grid; grid-template-columns:1fr 1fr; gap:25px; margin-bottom:30px}
.chart-container{background:var(--card); border:1px solid var(--border); border-radius:12px; padding:25px; box-shadow:var(--shadow)}
.chart-title{font-size:18px; font-weight:600; margin-bottom:15px; color:var(--text); display:flex; align-items:center; gap:8px}
.chart-canvas{width:100%; height:250px; background:#f8fafc; border-radius:8px; border:1px solid var(--border)}
.chart-footer{font-size:12px; color:var(--text-muted); margin-top:10px; text-align:center}

/* Activity Feed */
.activity-section{background:var(--card); border:1px solid var(--border); border-radius:12px; padding:25px; margin-bottom:25px; box-shadow:var(--shadow)}
.activity-item{display:flex; align-items:center; gap:12px; padding:10px 0; border-bottom:1px solid #f1f5f9}
.activity-item:last-child{border-bottom:none}
.activity-time{font-size:12px; color:var(--text-muted); min-width:70px; font-weight:500}
.activity-text{flex:1; font-size:14px; color:var(--text)}
.activity-badge{font-size:11px; padding:4px 8px; border-radius:12px; background:var(--primary); color:white; font-weight:500}

/* Buttons */
.btn{display:inline-flex; align-items:center; gap:8px; padding:12px 20px; background:var(--primary); color:white; text-decoration:none; border-radius:8px; font-weight:600; transition:all 0.2s; border:none; cursor:pointer}
.btn:hover{background:var(--primary-dark); transform:translateY(-1px); box-shadow:0 4px 12px rgba(30,64,175,0.3)}
.btn-secondary{background:var(--card); color:var(--text); border:2px solid var(--border)}
.btn-secondary:hover{background:#f8fafc; border-color:var(--primary)}

/* Footer */
.gov-footer{background:var(--text); color:white; padding:30px 0; margin-top:50px; text-align:center}
.gov-footer .wrap{max-width:1200px; margin:0 auto; padding:0 20px}

/* Responsive */
@media (max-width:1200px){ 
  .candidates-grid{grid-template-columns:repeat(3,1fr)}
  .charts-section{grid-template-columns:1fr}
}
@media (max-width:768px){ 
  .candidates-grid{grid-template-columns:repeat(2,1fr)}
  .stats-row{grid-template-columns:repeat(2,1fr)}
  .gov-nav{flex-wrap:wrap}
}
@media (max-width:480px){ 
  .candidates-grid{grid-template-columns:1fr}
  .stats-row{grid-template-columns:1fr}
  .wrap{padding:0 15px}
}
</style></head>
<body>
  <!-- Government Header -->
  <div class="gov-header">
    <div class="wrap">
      <div class="gov-logo">
        <div class="logo-container">
          <div class="logo-circle">
            <div class="logo-inner">
              <div class="logo-text">กกต</div>
            </div>
          </div>
        </div>
        <div>
          <div class="gov-title">สำนักงานคณะกรรมการการเลือกตั้ง</div>
          <div class="gov-subtitle">ELECTION COMMISSION OF THAILAND</div>
        </div>
      </div>
      <div class="gov-nav">
        <a href="#dashboard">หน้าหลัก</a>
        <a href="#results">ผลการเลือกตั้ง</a>
        <a href="#statistics">สถิติ</a>
        <a href="#about">เกี่ยวกับ</a>
      </div>
    </div>
  </div>

  <div class="wrap">
    <!-- Status Bar -->
    <div class="status-bar">
      <div class="status-info">
        <div class="status-badge">
          <span id="status-text">กำลังเชื่อมต่อ...</span>
          <div id="status-dot" class="status-dot"></div>
        </div>
        <div class="current-time" id="current-time"></div>
      </div>
      <div style="font-size:14px; color:var(--text-muted)">
        ระบบลงคะแนนเสียงอัจฉริยะ | Smart Voting System
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Stats Row -->
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-label">รวมคะแนนทั้งหมด</div>
          <div id="total-votes" class="stat-value">0</div>
          <div class="stat-sub">Total Votes Cast</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">ผู้สมัครที่ได้คะแนนสูงสุด</div>
          <div id="leading-candidate" class="stat-value">-</div>
          <div class="stat-sub">Leading Candidate</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">อัตราการโหวต/นาที</div>
          <div id="votes-per-minute" class="stat-value">0</div>
          <div class="stat-sub">Votes Per Minute</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">เวลาอัปเดตล่าสุด</div>
          <div id="last-update" class="stat-value">-</div>
          <div class="stat-sub">Last Update</div>
        </div>
      </div>

      <!-- Candidates Section -->
      <div class="candidates-section">
        <h2 class="section-title">ผลการลงคะแนนเสียงผู้สมัคร</h2>
        <div id="candidates-grid" class="candidates-grid"></div>
      </div>

      <!-- Charts Section -->
      <div class="charts-section">
        <div class="chart-container">
          <h3 class="chart-title">📈 แนวโน้มการลงคะแนน (แบบเรียลไทม์)</h3>
          <canvas id="trend-chart" class="chart-canvas"></canvas>
          <div class="chart-footer">แสดงการเปลี่ยนแปลงของคะแนนตามเวลา</div>
        </div>
        <div class="chart-container">
          <h3 class="chart-title">⏰ กิจกรรมการลงคะแนน (24 ชั่วโมง)</h3>
          <canvas id="activity-chart" class="chart-canvas"></canvas>
          <div class="chart-footer">แสดงช่วงเวลาที่มีการลงคะแนนมาก</div>
        </div>
      </div>

      <!-- Activity Feed -->
      <div class="activity-section">
        <h3 class="chart-title">🔄 กิจกรรมการลงคะแนนล่าสุด</h3>
        <div id="activity-feed"></div>
      </div>

      <!-- Action Buttons -->
      <div style="text-align:center; margin-top:30px; padding-top:20px; border-top:1px solid var(--border)">
        <a href="/admin" class="btn" target="_blank">⚙️ หน้าจัดการระบบ</a>
        <a href="/export.csv" class="btn btn-secondary" target="_blank">📊 ส่งออกข้อมูล</a>
      </div>
    </div>
  </div>

  <!-- Government Footer -->
  <div class="gov-footer">
    <div class="wrap">
      <p>© 2024 สำนักงานคณะกรรมการการเลือกตั้ง | Election Commission of Thailand</p>
      <p style="margin-top:10px; font-size:14px; opacity:0.8">
        ระบบลงคะแนนเสียงอัจฉริยะ | Smart Voting System v2.0
      </p>
    </div>
  </div>

<script src="/static/view.js"></script>


